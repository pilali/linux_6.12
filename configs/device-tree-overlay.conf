# Configuration des overlays de device tree pour Touch Display 2
# À ajouter dans /boot/config.txt de votre Raspberry Pi

# Activation des interfaces nécessaires
dtoverlay=i2c1
dtoverlay=i2c0
dtoverlay=spi0-2cs
dtoverlay=spi1-2cs

# Configuration de l'écran tactile
dtoverlay=ads7846,cs=1,penirq=25,penirq_pull=2,speed=50000,keep_vref_on=0,swapxy=0,pmax=255,xohms=150,xmin=200,xmax=3900,ymin=200,ymax=3900

# Configuration de l'écran LCD
dtoverlay=vc4-kms-v3d
dtoverlay=vc4-fkms-v3d

# Configuration des GPIO pour l'écran tactile
gpio=25,24,23,18,17,27,22,10,9,11,8,7,5,6,12,13,19,16,26,20,21=op,dh

# Configuration de la résolution de l'écran
hdmi_group=2
hdmi_mode=87
hdmi_cvt=800 480 60 6 0 0 0

# Configuration de la rotation de l'écran (si nécessaire)
# display_rotate=0

# Configuration de la fréquence d'horloge
arm_freq=1500
gpu_freq=500

# Configuration de la mémoire GPU
gpu_mem=128

# Configuration des interfaces I2C
dtparam=i2c_arm=on
dtparam=i2c_vc=on

# Configuration de l'interface SPI
dtparam=spi=on

# Configuration USB
dtparam=usb=on

# Configuration des périphériques d'entrée
dtparam=audio=on
dtparam=watchdog=on

# Configuration du support real-time
# Ces options sont gérées par le noyau, pas par config.txt